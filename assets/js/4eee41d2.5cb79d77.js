"use strict";(self.webpackChunkw3f_education=self.webpackChunkw3f_education||[]).push([[4656],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>f});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):r(r({},t),e)),n},d=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},p="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(n),u=o,f=p["".concat(l,".").concat(u)]||p[u]||h[u]||i;return n?a.createElement(f,r(r({ref:t},d),{},{components:n})):a.createElement(f,r({ref:t},d))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,r=new Array(i);r[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:o,r[1]=s;for(var c=2;c<i;c++)r[c]=n[c];return a.createElement.apply(null,r)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},99485:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var a=n(87462),o=(n(67294),n(3905));const i={id:"grandpa",title:"G for GRANDPA",sidebar_position:7},r=void 0,s={unversionedId:"AtoZ/grandpa",id:"AtoZ/grandpa",title:"G for GRANDPA",description:"G for GRANDPA",source:"@site/docs/AtoZ/grandpa.md",sourceDirName:"AtoZ",slug:"/AtoZ/grandpa",permalink:"/docs/AtoZ/grandpa",draft:!1,editUrl:"https://github.com/w3f/w3f-education/edit/main/docs/AtoZ/grandpa.md",tags:[],version:"current",lastUpdatedBy:"Bader Youssef",lastUpdatedAt:1693238811,formattedLastUpdatedAt:"Aug 28, 2023",sidebarPosition:7,frontMatter:{id:"grandpa",title:"G for GRANDPA",sidebar_position:7},sidebar:"atoz",previous:{title:"F for Forkless",permalink:"/docs/AtoZ/forkless"},next:{title:"H for Hash",permalink:"/docs/AtoZ/hash"}},l={},c=[{value:"Finality",id:"finality",level:2},{value:"Let&#39;s think about this in a real-world scenario:",id:"lets-think-about-this-in-a-real-world-scenario",level:4},{value:"GRANDPA",id:"grandpa",level:2},{value:"Further reading",id:"further-reading",level:2}],d={toc:c},p="wrapper";function h(e){let{components:t,...i}=e;return(0,o.kt)(p,(0,a.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"G for GRANDPA",src:n(1625).Z,width:"800",height:"420"})),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"GRANDPA"),"(GHOST-based Recursive ANcestor Deriving Prefix Agreement) is the finality module of the\nPolkadot and Kusama blockchains."),(0,o.kt)("h2",{id:"finality"},"Finality"),(0,o.kt)("p",null,"In the world of blockchains, finality is when a new block has been added to the blockchain with\nconfidence that it won\u2019t be reverted, and the network agrees on this new copy of the chain. It\nhappens to be an essential part of the consensus mechanism. A consensus mechanism, such as Bitcoin's\nNakamoto consensus, has a probabilistic finality. The more blocks that get added after that block,\nthe higher the probability that the block will be included in the canonical (network-approved)\nchain. However, this comes with risks - one can never be 100% sure that a block is canonical,\nalthough the more blocks built on top of a given block, the less likely it is. Various kinds of\ndouble-spend attacks rely on this feature, advertising a block that contains a transaction but does\nnot stay as a part of the canonical chain."),(0,o.kt)("h4",{id:"lets-think-about-this-in-a-real-world-scenario"},"Let's think about this in a real-world scenario:"),(0,o.kt)("p",null,"Let's say we\u2019re buying a cup of coffee. The finality of that transaction is when the cash is handed\nto the cafe, and the employee puts it in the register. Then, the cash value is recorded in the\ncafe's books, stored in an envelope, and deposited at their bank; after a few days, it becomes\navailable in their account for payroll, rent, and other costs. During each of those steps, the\nprobability that cash value will be reverted, meaning lost or stolen, will become less and less\nlikely."),(0,o.kt)("h2",{id:"grandpa"},"GRANDPA"),(0,o.kt)("p",null,"Polkadot and Kusama have a hybrid consensus model that splits the responsibilities of consensus into\ntwo different modules: GRANDPA, the finality module, and BABE, the block production module. BABE\n(Blind Assignment for Blockchain Extension) produces blocks, and GRANDPA decides which blocks are\nfinalized - that is, what is the provable canonical chain. Note that BABE has its own chain\nselection rule, but it is probabilistic; however, if there is an issue with getting consensus from\nthe required number of validators for GRANDPA-derived functionality, the network reverts to\nprobabilistic finality as opposed to stalling."),(0,o.kt)("p",null,"Each round of GRANDPA votes can finalize many blocks on the canonical chain, significantly\nincreasing the speed of finalization. GRANDPA considers this sufficient for finality as long as \u2154 of\nvalidators agree on the canonical chain. If there is a case of less than \u2154 consensus on a new copy\nof the chain, GRANDPA has mechanisms to punish validators that vote on more than one new version of\nthe chain."),(0,o.kt)("p",null,"Splitting up consensus allows us to define network assumptions into the modules, making the\nconsensus model in Polkadot a ",(0,o.kt)("strong",{parentName:"p"},"deterministic")," model. Which we consider being more secure than a\nprobabilistic model. Especially since block production can continue and not stall even when not\nenough validators are online, in this case, we fall back to the BABE chain selection. GRANDPA is a\npiece of code that can be plugged into any blockchain; it's designed to work on any blockchain\nimplementation as the finality module as long as it is provided with the necessary inputs."),(0,o.kt)("h2",{id:"further-reading"},"Further reading"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"GRANDPA paper: ",(0,o.kt)("a",{parentName:"li",href:"https://arxiv.org/pdf/2007.01560.pdf"},"https://arxiv.org/pdf/2007.01560.pdf")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://polkadot.network/polkadot-consensus-part-2-grandpa/"},"https://polkadot.network/polkadot-consensus-part-2-grandpa/")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://medium.com/polkadot-network/grandpa-block-finality-in-polkadot-an-introduction-part-1-d08a24a021b5"},"https://medium.com/polkadot-network/grandpa-block-finality-in-polkadot-an-introduction-part-1-d08a24a021b5")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://wiki.polkadot.network/docs/learn-consensus#what-is-grandpababe"},"https://wiki.polkadot.network/docs/learn-consensus#what-is-grandpababe"))))}h.isMDXComponent=!0},1625:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/G-2f3cc6a8b487fd61f28ef63b2a577f53.png"}}]);