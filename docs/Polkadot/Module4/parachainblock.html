<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Polkadot Education Initiative Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Polkadot Education Initiative Blog Atom Feed"><title data-react-helmet="true">Path of a Parachain Block | Polkadot Education Initiative</title><meta data-react-helmet="true" property="og:url" content="https://education.web3.foundation//docs/Polkadot/Module4/parachainblock"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Path of a Parachain Block | Polkadot Education Initiative"><meta data-react-helmet="true" name="description" content="Collators watch the progress of the block-producing and consensus protocols, e.g. by participating"><meta data-react-helmet="true" property="og:description" content="Collators watch the progress of the block-producing and consensus protocols, e.g. by participating"><link data-react-helmet="true" rel="shortcut icon" href="/img/Web3Foundation.png"><link data-react-helmet="true" rel="canonical" href="https://education.web3.foundation//docs/Polkadot/Module4/parachainblock"><link data-react-helmet="true" rel="alternate" href="https://education.web3.foundation//docs/Polkadot/Module4/parachainblock" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://education.web3.foundation//docs/Polkadot/Module4/parachainblock" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d11cdd67.css">
<link rel="preload" href="/assets/js/runtime~main.ff098162.js" as="script">
<link rel="preload" href="/assets/js/main.9e60bb79.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/Web3Foundation.png" alt="Polkadot Education Initiative" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/Web3Foundation.png" alt="Polkadot Education Initiative" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Technical Education</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link">Courses</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/introblock">Blockchain</a></li><li><a class="dropdown__link" href="/docs/introdot">Polkadot</a></li><li><a class="dropdown__link" href="/docs/introrust">Rust Programming</a></li><li><a class="dropdown__link" href="/docs/introsubstrate">Substrate</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link">Resources</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/introatoz">A - Z ELI5 series </a></li><li><a href="https://wiki.polkadot.network/" target="_blank" rel="noopener noreferrer" class="dropdown__link">Polkadot Wiki</a></li><li><a class="dropdown__link" href="/docs/polkadotFAQ">Polkadot FAQ </a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/w3f/w3f-education" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introdot">Introduction to Polkadot</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">What is Polkadot?</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Interact with Polkadot</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Consensus and Security</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Cryptography and Networking</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Polkadot/Module4/cryptography">Cryptography</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Polkadot/Module4/networking">Networking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Polkadot/Module4/nodes">Nodes on Polkadot Network</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/Polkadot/Module4/parachainblock">Path of a Parachain Block</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Polkadot/Module4/decentralization">Decentralization of Network</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Interoperability and Scalability</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Polkadot for Developers</a></li><li class="menu__list-item"><a href="https://wiki.polkadot.network/" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Learn more<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_dC7a">Path of a Parachain Block</h1></header><p>Collators watch the progress of the block-producing and consensus protocols, e.g. by participating
in the relay chain as a full node. Based on what they think is the latest relay chain block that will
most likely be  nalised, they build on top of the latest parachain block (or other data) that would be  
finalised by it.</p><p>Collators sign data building on top of said latest parachain block, and submit it possibly
indirectly, to the validators assigned to their parachain (parachain validators for short),
for inclusion in the relay chain. Ideally they submit a unique one, to help performance.</p><p>The parachain validators decide which parachain block to support, and presents relevant
data of it as a parachain&#x27;s next candidate to be added to the next relay chain block.</p><p>A block-producing validator collects candidates from all parachains, and puts this collection
along with any recent relay chain extrinsics into a relay chain head block.
For performance, this does not contain the full data from all parachains, but only metadata
and partial data, including security-related metadata.</p><p>In the unfavourable case, this can result in forks, resolved later. This subprotocol
is designed so that even with forks, participants have an idea of the block most likely to be
finalised, similar to Proof-of-Work protocols.</p><p>A subprotocol is run to ensure that the full data is indeed available, including and distributing
it to various other relay-chain nodes.</p><p>Data submitted from a parachain might include indications that they are sending messages
to another parachain, including metadata to facilitate this. This is now included on the relay
chain head(s), so recipient parachains are aware of which new messages have been sent to
them. They now retrieve the message bodies from the sending parachains.</p><p>Validators submit their votes on the block and  nalises it, resolving any forks to a single
head. These votes are added to the relay chain blocks.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="parachains-in-action"></a>Parachains in Action<a class="hash-link" href="#parachains-in-action" title="Direct link to heading">#</a></h2><p>In outline, a collator produces a parachain block, sends it to the parachain validators, who sign
its header as valid, and the header with enough signatures is placed on the relay chain. At this
point, the parachain block is as canonical as the relay chain block its header appeared in. If this
relay chain block is in the best chain according to BABE, so is the parachain
block and when this relay chain block is  nalised, so is the parachain block.
Because the parachain validators switch parachains frequently, they are stateless clients of
the parachain. Thus we distinguish between the parachain block B, which is normally enough
for full nodes of the parachain such as collators to update the parachain state, and the Proof of
Validity(PoV) block BPoV , which a validator who does not have the parachain state can verify.
Any validator should be able to verify BPoV given the relay chain state using the parachain&#x27;s
parachain validation function (PVF), the Web assembly code for which is stored on the
relay chain in a similar way to the relay chain&#x27;s runtime. The STVF takes as an input the PoV
block, the header of the last parachain block from this parachain and a small amount of data from
the relay chain state.
The STVF outputs the validity of the block, the header of this block and its outgoing mes-
sages. The PoV block contains any outgoing messages and the parachain block B. The parachain
validators should gossip the parachain block to the parachain network, as a back up to the collator
itself doing so.
The PoV block will be the parachain block, its outgoing messages, its header and light client
proof witnesses. These witnesses are Merkle proofs that give all elements of the input and output
state that are used or modi ed by the state transition from the input and output state roots.
To aid in censorship resistance, a parachain may want to use proof of work or proof of stake to
select collators, where the selection strategy is up to the given parachain. This can be implemented
in the STVF and need not be a part of the Polkadot protocol. So for proof of work, the STVF would
check that the hash of the block is su ciently small. However, for speed, it would be useful to
ensure that most relay chain blocks can include a parachain block. For PoW, this would necessitate
it being probable that multiple collators are allowed to produce a block. As such we will still need
a tie-breaker for the parachain validators to coordinate on validating the same parachain block
 rst. This may be the golden ticket scheme of. For proof of stake this may not be necessary.</p><iframe width="560" height="315" src="https://www.youtube.com/embed/AlnjFIfwOH0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/w3f/w3f-education/edit/main/docs/Polkadot/Module4/parachainblock.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_wj+Z">Last updated on <b><time datetime="2022-06-29T11:39:03.000Z">6/29/2022</time></b> by <b>Radha</b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Polkadot/Module4/nodes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Nodes on Polkadot Network</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/Polkadot/Module4/decentralization"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Decentralization of Network »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#parachains-in-action" class="table-of-contents__link">Parachains in Action</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Courses</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introblock">Blockchain Fundamentals</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/introdot">Introduction to Polkadot</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/introrust">Introduction to Rust Programming</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/introsubstrate">Introduction to Substrate</a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://wiki.polkadot.network/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Wiki<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://web3.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/Web3foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/w3f/w3f-education" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Web3 Foundation. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ff098162.js"></script>
<script src="/assets/js/main.9e60bb79.js"></script>
</body>
</html>